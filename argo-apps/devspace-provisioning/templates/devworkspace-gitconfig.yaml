{{- range $key := .Values.users }}
---
kind: ConfigMap
apiVersion: v1
metadata:
  name: devworkspace-gitconfig
  namespace: {{.name}}-dev
  annotations:
    argocd.argoproj.io/sync-wave: "8"    
  labels:
    app.kubernetes.io/defaultName: git-config-secret
    app.kubernetes.io/part-of: devworkspace-operator
    controller.devfile.io/watch-configmap: 'true'
data:
  gitconfig: "[filter \"lfs\"]\n    clean = git-lfs clean -- %f\n    smudge = git-lfs smudge -- %f\n    process = git-lfs filter-process\n    required = true\n\n[user]\n name = {{.name}}\n  email = {{.name}}@example.com \n  password = password"
{{- end }}
